meta: 'An example fit using Colibri, reduced DIS dataset.'

#######################
# Data and theory specs
#######################

dataset_inputs:    
  # DIS          
- {dataset: SLAC_NC_NOTFIXED_P_EM-F2, variant: legacy_dw}
- {dataset: SLAC_NC_NOTFIXED_D_EM-F2, variant: legacy_dw}
- {dataset: BCDMS_NC_NOTFIXED_P_EM-F2, variant: legacy_dw}
- {dataset: BCDMS_NC_NOTFIXED_D_EM-F2, variant: legacy_dw}



theoryid: 40000000                     # The theory from which the predictions are drawn.
use_cuts: internal                     # The kinematic cuts to be applied to the data.

closure_test_level: 0                  # The closure test level: False for experimental, level 0
                                       # for pseudodata with no noise, level 1 for pseudodata with
                                       # noise.

# MODEL-SPECIFIC CLOSURE TEST:
closure_test_pdf: colibri_model
closure_test_model_settings:
  model: les_houches_example
  fitted_flavours: [\Sigma, g, V, V3]
  
  # The parameters of the model. The order of the parameters is important; 
  # it needs to match the order of model.py .
  parameters:
    - 0.356    # alpha_gluon
    - 10.9     # beta_gluon
    - 0.718    # alpha_up
    - 3.81     # beta_up
    - -1.56    # epsilon_up
    - 3.30     # gamma_up
    - 1.71     # alpha_down
    - 10.0     # beta_down
    - -3.83    # epsilon_down
    - 4.64     # gamma_down
    - 0.211    # norm_sigma
    - -0.048   # alpha_sigma
    - 2.20     # beta_sigma

#####################
# Loss function specs
#####################

positivity:                            # Positivity datasets, used in the positivity penalty.
  posdatasets:
  - {dataset: NNPDF_POS_2P24GEV_F2U, variant: None, maxlambda: 1e6}

positivity_penalty_settings:
  positivity_penalty: false
  alpha: 1e-7                           
  lambda_positivity: 0                 

use_fit_t0: True                       # Whether the t0 covariance is used in the chi2 loss.
t0pdfset: NNPDF40_nnlo_as_01180         # The t0 PDF used to build the t0 covariance matrix.

#############
# Model specs
#############
# defines which PDF flavours are used in the fit
fitted_flavours: [\Sigma, g, V, V3]

  

###################
# Methodology specs
###################
prior_settings:
  prior_distribution: uniform_parameter_prior
  prior_distribution_specs:
    bounds:
      - [0, 0.8]      # alpha_gluon
      - [8.9, 13.8]   # beta_gluon
      - [0.4, 0.9]    # alpha_up
      - [3, 4.3]      # beta_up
      - [-3, 4]     # epsilon_up
      - [1, 7]      # gamma_up
      - [1, 2.5]        # alpha_down
      - [7.5, 12]       # beta_down
      - [-4.5, -3]    # epsilon_down
      - [3.8, 6]      # gamma_down
      - [0, 0.45]  # norm_sigma
      - [-0.2, 0.5]   # alpha_sigma
      - [1.6, 2.8]    # beta_sigma


# Nested Sampling settings
ns_settings:
  sampler_plot: true
  n_posterior_samples: 100
  ReactiveNS_settings:
    vectorized: False
    ndraw_max: 500
  Run_settings:
    min_num_live_points: 200
    min_ess: 50
    frac_remain: 0.3
  SliceSampler_settings:
    nsteps: 106


actions_:
- run_ultranest_fit                      # Choose from ultranest_fit, monte_carlo_fit, analytic_fit
